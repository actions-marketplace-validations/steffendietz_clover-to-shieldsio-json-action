(()=>{var e={6:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issue=t.issueCommand=void 0;const a=s(r(87));const o=r(981);function issueCommand(e,t,r){const n=new Command(e,t,r);process.stdout.write(n.toString()+a.EOL)}t.issueCommand=issueCommand;function issue(e,t=""){issueCommand(e,{},t)}t.issue=issue;const u="::";class Command{constructor(e,t,r){if(!e){e="missing.command"}this.command=e;this.properties=t;this.message=r}toString(){let e=u+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=true;for(const r in this.properties){if(this.properties.hasOwnProperty(r)){const n=this.properties[r];if(n){if(t){t=false}else{e+=","}e+=`${r}=${escapeProperty(n)}`}}}}e+=`${u}${escapeData(this.message)}`;return e}}function escapeData(e){return o.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(e){return o.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},881:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};var a=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.getIDToken=t.getState=t.saveState=t.group=t.endGroup=t.startGroup=t.info=t.notice=t.warning=t.error=t.debug=t.isDebug=t.setFailed=t.setCommandEcho=t.setOutput=t.getBooleanInput=t.getMultilineInput=t.getInput=t.addPath=t.setSecret=t.exportVariable=t.ExitCode=void 0;const o=r(6);const u=r(760);const c=r(981);const l=s(r(87));const p=s(r(622));const f=r(886);var d;(function(e){e[e["Success"]=0]="Success";e[e["Failure"]=1]="Failure"})(d=t.ExitCode||(t.ExitCode={}));function exportVariable(e,t){const r=c.toCommandValue(t);process.env[e]=r;const n=process.env["GITHUB_ENV"]||"";if(n){const t="_GitHubActionsFileCommandDelimeter_";const n=`${e}<<${t}${l.EOL}${r}${l.EOL}${t}`;u.issueCommand("ENV",n)}else{o.issueCommand("set-env",{name:e},r)}}t.exportVariable=exportVariable;function setSecret(e){o.issueCommand("add-mask",{},e)}t.setSecret=setSecret;function addPath(e){const t=process.env["GITHUB_PATH"]||"";if(t){u.issueCommand("PATH",e)}else{o.issueCommand("add-path",{},e)}process.env["PATH"]=`${e}${p.delimiter}${process.env["PATH"]}`}t.addPath=addPath;function getInput(e,t){const r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r){throw new Error(`Input required and not supplied: ${e}`)}if(t&&t.trimWhitespace===false){return r}return r.trim()}t.getInput=getInput;function getMultilineInput(e,t){const r=getInput(e,t).split("\n").filter((e=>e!==""));return r}t.getMultilineInput=getMultilineInput;function getBooleanInput(e,t){const r=["true","True","TRUE"];const n=["false","False","FALSE"];const i=getInput(e,t);if(r.includes(i))return true;if(n.includes(i))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}t.getBooleanInput=getBooleanInput;function setOutput(e,t){process.stdout.write(l.EOL);o.issueCommand("set-output",{name:e},t)}t.setOutput=setOutput;function setCommandEcho(e){o.issue("echo",e?"on":"off")}t.setCommandEcho=setCommandEcho;function setFailed(e){process.exitCode=d.Failure;error(e)}t.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}t.isDebug=isDebug;function debug(e){o.issueCommand("debug",{},e)}t.debug=debug;function error(e,t={}){o.issueCommand("error",c.toCommandProperties(t),e instanceof Error?e.toString():e)}t.error=error;function warning(e,t={}){o.issueCommand("warning",c.toCommandProperties(t),e instanceof Error?e.toString():e)}t.warning=warning;function notice(e,t={}){o.issueCommand("notice",c.toCommandProperties(t),e instanceof Error?e.toString():e)}t.notice=notice;function info(e){process.stdout.write(e+l.EOL)}t.info=info;function startGroup(e){o.issue("group",e)}t.startGroup=startGroup;function endGroup(){o.issue("endgroup")}t.endGroup=endGroup;function group(e,t){return a(this,void 0,void 0,(function*(){startGroup(e);let r;try{r=yield t()}finally{endGroup()}return r}))}t.group=group;function saveState(e,t){o.issueCommand("save-state",{name:e},t)}t.saveState=saveState;function getState(e){return process.env[`STATE_${e}`]||""}t.getState=getState;function getIDToken(e){return a(this,void 0,void 0,(function*(){return yield f.OidcClient.getIDToken(e)}))}t.getIDToken=getIDToken},760:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issueCommand=void 0;const a=s(r(747));const o=s(r(87));const u=r(981);function issueCommand(e,t){const r=process.env[`GITHUB_${e}`];if(!r){throw new Error(`Unable to find environment variable for file command ${e}`)}if(!a.existsSync(r)){throw new Error(`Missing file at path: ${r}`)}a.appendFileSync(r,`${u.toCommandValue(t)}${o.EOL}`,{encoding:"utf8"})}t.issueCommand=issueCommand},886:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.OidcClient=void 0;const i=r(939);const s=r(748);const a=r(881);class OidcClient{static createHttpClient(e=true,t=10){const r={allowRetries:e,maxRetries:t};return new i.HttpClient("actions/oidc-client",[new s.BearerCredentialHandler(OidcClient.getRequestToken())],r)}static getRequestToken(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_TOKEN"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable")}return e}static getIDTokenUrl(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_URL"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable")}return e}static getCall(e){var t;return n(this,void 0,void 0,(function*(){const r=OidcClient.createHttpClient();const n=yield r.getJson(e).catch((e=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${e.statusCode}\n \n        Error Message: ${e.result.message}`)}));const i=(t=n.result)===null||t===void 0?void 0:t.value;if(!i){throw new Error("Response json body do not have ID Token field")}return i}))}static getIDToken(e){return n(this,void 0,void 0,(function*(){try{let t=OidcClient.getIDTokenUrl();if(e){const r=encodeURIComponent(e);t=`${t}&audience=${r}`}a.debug(`ID token url is ${t}`);const r=yield OidcClient.getCall(t);a.setSecret(r);return r}catch(e){throw new Error(`Error message: ${e.message}`)}}))}}t.OidcClient=OidcClient},981:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toCommandProperties=t.toCommandValue=void 0;function toCommandValue(e){if(e===null||e===undefined){return""}else if(typeof e==="string"||e instanceof String){return e}return JSON.stringify(e)}t.toCommandValue=toCommandValue;function toCommandProperties(e){if(!Object.keys(e).length){return{}}return{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}}t.toCommandProperties=toCommandProperties},748:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});class BasicCredentialHandler{constructor(e,t){this.username=e;this.password=t}prepareRequest(e){e.headers["Authorization"]="Basic "+Buffer.from(this.username+":"+this.password).toString("base64")}canHandleAuthentication(e){return false}handleAuthentication(e,t,r){return null}}t.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(e){this.token=e}prepareRequest(e){e.headers["Authorization"]="Bearer "+this.token}canHandleAuthentication(e){return false}handleAuthentication(e,t,r){return null}}t.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(e){this.token=e}prepareRequest(e){e.headers["Authorization"]="Basic "+Buffer.from("PAT:"+this.token).toString("base64")}canHandleAuthentication(e){return false}handleAuthentication(e,t,r){return null}}t.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},939:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(605);const i=r(211);const s=r(673);let a;var o;(function(e){e[e["OK"]=200]="OK";e[e["MultipleChoices"]=300]="MultipleChoices";e[e["MovedPermanently"]=301]="MovedPermanently";e[e["ResourceMoved"]=302]="ResourceMoved";e[e["SeeOther"]=303]="SeeOther";e[e["NotModified"]=304]="NotModified";e[e["UseProxy"]=305]="UseProxy";e[e["SwitchProxy"]=306]="SwitchProxy";e[e["TemporaryRedirect"]=307]="TemporaryRedirect";e[e["PermanentRedirect"]=308]="PermanentRedirect";e[e["BadRequest"]=400]="BadRequest";e[e["Unauthorized"]=401]="Unauthorized";e[e["PaymentRequired"]=402]="PaymentRequired";e[e["Forbidden"]=403]="Forbidden";e[e["NotFound"]=404]="NotFound";e[e["MethodNotAllowed"]=405]="MethodNotAllowed";e[e["NotAcceptable"]=406]="NotAcceptable";e[e["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";e[e["RequestTimeout"]=408]="RequestTimeout";e[e["Conflict"]=409]="Conflict";e[e["Gone"]=410]="Gone";e[e["TooManyRequests"]=429]="TooManyRequests";e[e["InternalServerError"]=500]="InternalServerError";e[e["NotImplemented"]=501]="NotImplemented";e[e["BadGateway"]=502]="BadGateway";e[e["ServiceUnavailable"]=503]="ServiceUnavailable";e[e["GatewayTimeout"]=504]="GatewayTimeout"})(o=t.HttpCodes||(t.HttpCodes={}));var u;(function(e){e["Accept"]="accept";e["ContentType"]="content-type"})(u=t.Headers||(t.Headers={}));var c;(function(e){e["ApplicationJson"]="application/json"})(c=t.MediaTypes||(t.MediaTypes={}));function getProxyUrl(e){let t=s.getProxyUrl(new URL(e));return t?t.href:""}t.getProxyUrl=getProxyUrl;const l=[o.MovedPermanently,o.ResourceMoved,o.SeeOther,o.TemporaryRedirect,o.PermanentRedirect];const p=[o.BadGateway,o.ServiceUnavailable,o.GatewayTimeout];const f=["OPTIONS","GET","DELETE","HEAD"];const d=10;const m=5;class HttpClientError extends Error{constructor(e,t){super(e);this.name="HttpClientError";this.statusCode=t;Object.setPrototypeOf(this,HttpClientError.prototype)}}t.HttpClientError=HttpClientError;class HttpClientResponse{constructor(e){this.message=e}readBody(){return new Promise((async(e,t)=>{let r=Buffer.alloc(0);this.message.on("data",(e=>{r=Buffer.concat([r,e])}));this.message.on("end",(()=>{e(r.toString())}))}))}}t.HttpClientResponse=HttpClientResponse;function isHttps(e){let t=new URL(e);return t.protocol==="https:"}t.isHttps=isHttps;class HttpClient{constructor(e,t,r){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=e;this.handlers=t||[];this.requestOptions=r;if(r){if(r.ignoreSslError!=null){this._ignoreSslError=r.ignoreSslError}this._socketTimeout=r.socketTimeout;if(r.allowRedirects!=null){this._allowRedirects=r.allowRedirects}if(r.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=r.allowRedirectDowngrade}if(r.maxRedirects!=null){this._maxRedirects=Math.max(r.maxRedirects,0)}if(r.keepAlive!=null){this._keepAlive=r.keepAlive}if(r.allowRetries!=null){this._allowRetries=r.allowRetries}if(r.maxRetries!=null){this._maxRetries=r.maxRetries}}}options(e,t){return this.request("OPTIONS",e,null,t||{})}get(e,t){return this.request("GET",e,null,t||{})}del(e,t){return this.request("DELETE",e,null,t||{})}post(e,t,r){return this.request("POST",e,t,r||{})}patch(e,t,r){return this.request("PATCH",e,t,r||{})}put(e,t,r){return this.request("PUT",e,t,r||{})}head(e,t){return this.request("HEAD",e,null,t||{})}sendStream(e,t,r,n){return this.request(e,t,r,n)}async getJson(e,t={}){t[u.Accept]=this._getExistingOrDefaultHeader(t,u.Accept,c.ApplicationJson);let r=await this.get(e,t);return this._processResponse(r,this.requestOptions)}async postJson(e,t,r={}){let n=JSON.stringify(t,null,2);r[u.Accept]=this._getExistingOrDefaultHeader(r,u.Accept,c.ApplicationJson);r[u.ContentType]=this._getExistingOrDefaultHeader(r,u.ContentType,c.ApplicationJson);let i=await this.post(e,n,r);return this._processResponse(i,this.requestOptions)}async putJson(e,t,r={}){let n=JSON.stringify(t,null,2);r[u.Accept]=this._getExistingOrDefaultHeader(r,u.Accept,c.ApplicationJson);r[u.ContentType]=this._getExistingOrDefaultHeader(r,u.ContentType,c.ApplicationJson);let i=await this.put(e,n,r);return this._processResponse(i,this.requestOptions)}async patchJson(e,t,r={}){let n=JSON.stringify(t,null,2);r[u.Accept]=this._getExistingOrDefaultHeader(r,u.Accept,c.ApplicationJson);r[u.ContentType]=this._getExistingOrDefaultHeader(r,u.ContentType,c.ApplicationJson);let i=await this.patch(e,n,r);return this._processResponse(i,this.requestOptions)}async request(e,t,r,n){if(this._disposed){throw new Error("Client has already been disposed.")}let i=new URL(t);let s=this._prepareRequest(e,i,n);let a=this._allowRetries&&f.indexOf(e)!=-1?this._maxRetries+1:1;let u=0;let c;while(u<a){c=await this.requestRaw(s,r);if(c&&c.message&&c.message.statusCode===o.Unauthorized){let e;for(let t=0;t<this.handlers.length;t++){if(this.handlers[t].canHandleAuthentication(c)){e=this.handlers[t];break}}if(e){return e.handleAuthentication(this,s,r)}else{return c}}let t=this._maxRedirects;while(l.indexOf(c.message.statusCode)!=-1&&this._allowRedirects&&t>0){const a=c.message.headers["location"];if(!a){break}let o=new URL(a);if(i.protocol=="https:"&&i.protocol!=o.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}await c.readBody();if(o.hostname!==i.hostname){for(let e in n){if(e.toLowerCase()==="authorization"){delete n[e]}}}s=this._prepareRequest(e,o,n);c=await this.requestRaw(s,r);t--}if(p.indexOf(c.message.statusCode)==-1){return c}u+=1;if(u<a){await c.readBody();await this._performExponentialBackoff(u)}}return c}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(e,t){return new Promise(((r,n)=>{let callbackForResult=function(e,t){if(e){n(e)}r(t)};this.requestRawWithCallback(e,t,callbackForResult)}))}requestRawWithCallback(e,t,r){let n;if(typeof t==="string"){e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8")}let i=false;let handleResult=(e,t)=>{if(!i){i=true;r(e,t)}};let s=e.httpModule.request(e.options,(e=>{let t=new HttpClientResponse(e);handleResult(null,t)}));s.on("socket",(e=>{n=e}));s.setTimeout(this._socketTimeout||3*6e4,(()=>{if(n){n.end()}handleResult(new Error("Request timeout: "+e.options.path),null)}));s.on("error",(function(e){handleResult(e,null)}));if(t&&typeof t==="string"){s.write(t,"utf8")}if(t&&typeof t!=="string"){t.on("close",(function(){s.end()}));t.pipe(s)}else{s.end()}}getAgent(e){let t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,r){const s={};s.parsedUrl=t;const a=s.parsedUrl.protocol==="https:";s.httpModule=a?i:n;const o=a?443:80;s.options={};s.options.host=s.parsedUrl.hostname;s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):o;s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||"");s.options.method=e;s.options.headers=this._mergeHeaders(r);if(this.userAgent!=null){s.options.headers["user-agent"]=this.userAgent}s.options.agent=this._getAgent(s.parsedUrl);if(this.handlers){this.handlers.forEach((e=>{e.prepareRequest(s.options)}))}return s}_mergeHeaders(e){const lowercaseKeys=e=>Object.keys(e).reduce(((t,r)=>(t[r.toLowerCase()]=e[r],t)),{});if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},lowercaseKeys(this.requestOptions.headers),lowercaseKeys(e))}return lowercaseKeys(e||{})}_getExistingOrDefaultHeader(e,t,r){const lowercaseKeys=e=>Object.keys(e).reduce(((t,r)=>(t[r.toLowerCase()]=e[r],t)),{});let n;if(this.requestOptions&&this.requestOptions.headers){n=lowercaseKeys(this.requestOptions.headers)[t]}return e[t]||n||r}_getAgent(e){let t;let o=s.getProxyUrl(e);let u=o&&o.hostname;if(this._keepAlive&&u){t=this._proxyAgent}if(this._keepAlive&&!u){t=this._agent}if(!!t){return t}const c=e.protocol==="https:";let l=100;if(!!this.requestOptions){l=this.requestOptions.maxSockets||n.globalAgent.maxSockets}if(u){if(!a){a=r(774)}const e={maxSockets:l,keepAlive:this._keepAlive,proxy:{...(o.username||o.password)&&{proxyAuth:`${o.username}:${o.password}`},host:o.hostname,port:o.port}};let n;const i=o.protocol==="https:";if(c){n=i?a.httpsOverHttps:a.httpsOverHttp}else{n=i?a.httpOverHttps:a.httpOverHttp}t=n(e);this._proxyAgent=t}if(this._keepAlive&&!t){const e={keepAlive:this._keepAlive,maxSockets:l};t=c?new i.Agent(e):new n.Agent(e);this._agent=t}if(!t){t=c?i.globalAgent:n.globalAgent}if(c&&this._ignoreSslError){t.options=Object.assign(t.options||{},{rejectUnauthorized:false})}return t}_performExponentialBackoff(e){e=Math.min(d,e);const t=m*Math.pow(2,e);return new Promise((e=>setTimeout((()=>e()),t)))}static dateTimeDeserializer(e,t){if(typeof t==="string"){let e=new Date(t);if(!isNaN(e.valueOf())){return e}}return t}async _processResponse(e,t){return new Promise((async(r,n)=>{const i=e.message.statusCode;const s={statusCode:i,result:null,headers:{}};if(i==o.NotFound){r(s)}let a;let u;try{u=await e.readBody();if(u&&u.length>0){if(t&&t.deserializeDates){a=JSON.parse(u,HttpClient.dateTimeDeserializer)}else{a=JSON.parse(u)}s.result=a}s.headers=e.message.headers}catch(e){}if(i>299){let e;if(a&&a.message){e=a.message}else if(u&&u.length>0){e=u}else{e="Failed request: ("+i+")"}let t=new HttpClientError(e,i);t.result=s.result;n(t)}else{r(s)}}))}}t.HttpClient=HttpClient},673:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function getProxyUrl(e){let t=e.protocol==="https:";let r;if(checkBypass(e)){return r}let n;if(t){n=process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{n=process.env["http_proxy"]||process.env["HTTP_PROXY"]}if(n){r=new URL(n)}return r}t.getProxyUrl=getProxyUrl;function checkBypass(e){if(!e.hostname){return false}let t=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!t){return false}let r;if(e.port){r=Number(e.port)}else if(e.protocol==="http:"){r=80}else if(e.protocol==="https:"){r=443}let n=[e.hostname.toUpperCase()];if(typeof r==="number"){n.push(`${n[0]}:${r}`)}for(let e of t.split(",").map((e=>e.trim().toUpperCase())).filter((e=>e))){if(n.some((t=>t===e))){return true}}return false}t.checkBypass=checkBypass},613:(e,t,r)=>{(function(e){e.parser=function(e,t){return new SAXParser(e,t)};e.SAXParser=SAXParser;e.SAXStream=SAXStream;e.createStream=createStream;e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function SAXParser(t,r){if(!(this instanceof SAXParser)){return new SAXParser(t,r)}var n=this;clearBuffers(n);n.q=n.c="";n.bufferCheckPosition=e.MAX_BUFFER_LENGTH;n.opt=r||{};n.opt.lowercase=n.opt.lowercase||n.opt.lowercasetags;n.looseCase=n.opt.lowercase?"toLowerCase":"toUpperCase";n.tags=[];n.closed=n.closedRoot=n.sawRoot=false;n.tag=n.error=null;n.strict=!!t;n.noscript=!!(t||n.opt.noscript);n.state=m.BEGIN;n.strictEntities=n.opt.strictEntities;n.ENTITIES=n.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES);n.attribList=[];if(n.opt.xmlns){n.ns=Object.create(c)}n.trackPosition=n.opt.position!==false;if(n.trackPosition){n.position=n.line=n.column=0}emit(n,"onready")}if(!Object.create){Object.create=function(e){function F(){}F.prototype=e;var t=new F;return t}}if(!Object.keys){Object.keys=function(e){var t=[];for(var r in e)if(e.hasOwnProperty(r))t.push(r);return t}}function checkBufferLength(r){var n=Math.max(e.MAX_BUFFER_LENGTH,10);var i=0;for(var s=0,a=t.length;s<a;s++){var o=r[t[s]].length;if(o>n){switch(t[s]){case"textNode":closeText(r);break;case"cdata":emitNode(r,"oncdata",r.cdata);r.cdata="";break;case"script":emitNode(r,"onscript",r.script);r.script="";break;default:error(r,"Max buffer length exceeded: "+t[s])}}i=Math.max(i,o)}var u=e.MAX_BUFFER_LENGTH-i;r.bufferCheckPosition=u+r.position}function clearBuffers(e){for(var r=0,n=t.length;r<n;r++){e[t[r]]=""}}function flushBuffers(e){closeText(e);if(e.cdata!==""){emitNode(e,"oncdata",e.cdata);e.cdata=""}if(e.script!==""){emitNode(e,"onscript",e.script);e.script=""}}SAXParser.prototype={end:function(){end(this)},write:write,resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){flushBuffers(this)}};var n;try{n=r(413).Stream}catch(e){n=function(){}}var i=e.EVENTS.filter((function(e){return e!=="error"&&e!=="end"}));function createStream(e,t){return new SAXStream(e,t)}function SAXStream(e,t){if(!(this instanceof SAXStream)){return new SAXStream(e,t)}n.apply(this);this._parser=new SAXParser(e,t);this.writable=true;this.readable=true;var r=this;this._parser.onend=function(){r.emit("end")};this._parser.onerror=function(e){r.emit("error",e);r._parser.error=null};this._decoder=null;i.forEach((function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t){r.removeAllListeners(e);r._parser["on"+e]=t;return t}r.on(e,t)},enumerable:true,configurable:false})}))}SAXStream.prototype=Object.create(n.prototype,{constructor:{value:SAXStream}});SAXStream.prototype.write=function(e){if(typeof Buffer==="function"&&typeof Buffer.isBuffer==="function"&&Buffer.isBuffer(e)){if(!this._decoder){var t=r(304).StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}this._parser.write(e.toString());this.emit("data",e);return true};SAXStream.prototype.end=function(e){if(e&&e.length){this.write(e)}this._parser.end();return true};SAXStream.prototype.on=function(e,t){var r=this;if(!r._parser["on"+e]&&i.indexOf(e)!==-1){r._parser["on"+e]=function(){var t=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e);r.emit.apply(r,t)}}return n.prototype.on.call(r,e,t)};var s="[CDATA[";var a="DOCTYPE";var o="http://www.w3.org/XML/1998/namespace";var u="http://www.w3.org/2000/xmlns/";var c={xml:o,xmlns:u};var l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;var f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function isWhitespace(e){return e===" "||e==="\n"||e==="\r"||e==="\t"}function isQuote(e){return e==='"'||e==="'"}function isAttribEnd(e){return e===">"||isWhitespace(e)}function isMatch(e,t){return e.test(t)}function notMatch(e,t){return!isMatch(e,t)}var m=0;e.STATE={BEGIN:m++,BEGIN_WHITESPACE:m++,TEXT:m++,TEXT_ENTITY:m++,OPEN_WAKA:m++,SGML_DECL:m++,SGML_DECL_QUOTED:m++,DOCTYPE:m++,DOCTYPE_QUOTED:m++,DOCTYPE_DTD:m++,DOCTYPE_DTD_QUOTED:m++,COMMENT_STARTING:m++,COMMENT:m++,COMMENT_ENDING:m++,COMMENT_ENDED:m++,CDATA:m++,CDATA_ENDING:m++,CDATA_ENDING_2:m++,PROC_INST:m++,PROC_INST_BODY:m++,PROC_INST_ENDING:m++,OPEN_TAG:m++,OPEN_TAG_SLASH:m++,ATTRIB:m++,ATTRIB_NAME:m++,ATTRIB_NAME_SAW_WHITE:m++,ATTRIB_VALUE:m++,ATTRIB_VALUE_QUOTED:m++,ATTRIB_VALUE_CLOSED:m++,ATTRIB_VALUE_UNQUOTED:m++,ATTRIB_VALUE_ENTITY_Q:m++,ATTRIB_VALUE_ENTITY_U:m++,CLOSE_TAG:m++,CLOSE_TAG_SAW_WHITE:m++,SCRIPT:m++,SCRIPT_ENDING:m++};e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(e.ENTITIES).forEach((function(t){var r=e.ENTITIES[t];var n=typeof r==="number"?String.fromCharCode(r):r;e.ENTITIES[t]=n}));for(var h in e.STATE){e.STATE[e.STATE[h]]=h}m=e.STATE;function emit(e,t,r){e[t]&&e[t](r)}function emitNode(e,t,r){if(e.textNode)closeText(e);emit(e,t,r)}function closeText(e){e.textNode=textopts(e.opt,e.textNode);if(e.textNode)emit(e,"ontext",e.textNode);e.textNode=""}function textopts(e,t){if(e.trim)t=t.trim();if(e.normalize)t=t.replace(/\s+/g," ");return t}function error(e,t){closeText(e);if(e.trackPosition){t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c}t=new Error(t);e.error=t;emit(e,"onerror",t);return e}function end(e){if(e.sawRoot&&!e.closedRoot)strictFail(e,"Unclosed root tag");if(e.state!==m.BEGIN&&e.state!==m.BEGIN_WHITESPACE&&e.state!==m.TEXT){error(e,"Unexpected end")}closeText(e);e.c="";e.closed=true;emit(e,"onend");SAXParser.call(e,e.strict,e.opt);return e}function strictFail(e,t){if(typeof e!=="object"||!(e instanceof SAXParser)){throw new Error("bad call to strictFail")}if(e.strict){error(e,t)}}function newTag(e){if(!e.strict)e.tagName=e.tagName[e.looseCase]();var t=e.tags[e.tags.length-1]||e;var r=e.tag={name:e.tagName,attributes:{}};if(e.opt.xmlns){r.ns=t.ns}e.attribList.length=0;emitNode(e,"onopentagstart",r)}function qname(e,t){var r=e.indexOf(":");var n=r<0?["",e]:e.split(":");var i=n[0];var s=n[1];if(t&&e==="xmlns"){i="xmlns";s=""}return{prefix:i,local:s}}function attrib(e){if(!e.strict){e.attribName=e.attribName[e.looseCase]()}if(e.attribList.indexOf(e.attribName)!==-1||e.tag.attributes.hasOwnProperty(e.attribName)){e.attribName=e.attribValue="";return}if(e.opt.xmlns){var t=qname(e.attribName,true);var r=t.prefix;var n=t.local;if(r==="xmlns"){if(n==="xml"&&e.attribValue!==o){strictFail(e,"xml: prefix must be bound to "+o+"\n"+"Actual: "+e.attribValue)}else if(n==="xmlns"&&e.attribValue!==u){strictFail(e,"xmlns: prefix must be bound to "+u+"\n"+"Actual: "+e.attribValue)}else{var i=e.tag;var s=e.tags[e.tags.length-1]||e;if(i.ns===s.ns){i.ns=Object.create(s.ns)}i.ns[n]=e.attribValue}}e.attribList.push([e.attribName,e.attribValue])}else{e.tag.attributes[e.attribName]=e.attribValue;emitNode(e,"onattribute",{name:e.attribName,value:e.attribValue})}e.attribName=e.attribValue=""}function openTag(e,t){if(e.opt.xmlns){var r=e.tag;var n=qname(e.tagName);r.prefix=n.prefix;r.local=n.local;r.uri=r.ns[n.prefix]||"";if(r.prefix&&!r.uri){strictFail(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName));r.uri=n.prefix}var i=e.tags[e.tags.length-1]||e;if(r.ns&&i.ns!==r.ns){Object.keys(r.ns).forEach((function(t){emitNode(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}))}for(var s=0,a=e.attribList.length;s<a;s++){var o=e.attribList[s];var u=o[0];var c=o[1];var l=qname(u,true);var p=l.prefix;var f=l.local;var d=p===""?"":r.ns[p]||"";var h={name:u,value:c,prefix:p,local:f,uri:d};if(p&&p!=="xmlns"&&!d){strictFail(e,"Unbound namespace prefix: "+JSON.stringify(p));h.uri=p}e.tag.attributes[u]=h;emitNode(e,"onattribute",h)}e.attribList.length=0}e.tag.isSelfClosing=!!t;e.sawRoot=true;e.tags.push(e.tag);emitNode(e,"onopentag",e.tag);if(!t){if(!e.noscript&&e.tagName.toLowerCase()==="script"){e.state=m.SCRIPT}else{e.state=m.TEXT}e.tag=null;e.tagName=""}e.attribName=e.attribValue="";e.attribList.length=0}function closeTag(e){if(!e.tagName){strictFail(e,"Weird empty close tag.");e.textNode+="</>";e.state=m.TEXT;return}if(e.script){if(e.tagName!=="script"){e.script+="</"+e.tagName+">";e.tagName="";e.state=m.SCRIPT;return}emitNode(e,"onscript",e.script);e.script=""}var t=e.tags.length;var r=e.tagName;if(!e.strict){r=r[e.looseCase]()}var n=r;while(t--){var i=e.tags[t];if(i.name!==n){strictFail(e,"Unexpected close tag")}else{break}}if(t<0){strictFail(e,"Unmatched closing tag: "+e.tagName);e.textNode+="</"+e.tagName+">";e.state=m.TEXT;return}e.tagName=r;var s=e.tags.length;while(s-- >t){var a=e.tag=e.tags.pop();e.tagName=e.tag.name;emitNode(e,"onclosetag",e.tagName);var o={};for(var u in a.ns){o[u]=a.ns[u]}var c=e.tags[e.tags.length-1]||e;if(e.opt.xmlns&&a.ns!==c.ns){Object.keys(a.ns).forEach((function(t){var r=a.ns[t];emitNode(e,"onclosenamespace",{prefix:t,uri:r})}))}}if(t===0)e.closedRoot=true;e.tagName=e.attribValue=e.attribName="";e.attribList.length=0;e.state=m.TEXT}function parseEntity(e){var t=e.entity;var r=t.toLowerCase();var n;var i="";if(e.ENTITIES[t]){return e.ENTITIES[t]}if(e.ENTITIES[r]){return e.ENTITIES[r]}t=r;if(t.charAt(0)==="#"){if(t.charAt(1)==="x"){t=t.slice(2);n=parseInt(t,16);i=n.toString(16)}else{t=t.slice(1);n=parseInt(t,10);i=n.toString(10)}}t=t.replace(/^0+/,"");if(isNaN(n)||i.toLowerCase()!==t){strictFail(e,"Invalid character entity");return"&"+e.entity+";"}return String.fromCodePoint(n)}function beginWhiteSpace(e,t){if(t==="<"){e.state=m.OPEN_WAKA;e.startTagPosition=e.position}else if(!isWhitespace(t)){strictFail(e,"Non-whitespace before first tag.");e.textNode=t;e.state=m.TEXT}}function charAt(e,t){var r="";if(t<e.length){r=e.charAt(t)}return r}function write(e){var t=this;if(this.error){throw this.error}if(t.closed){return error(t,"Cannot write after close. Assign an onready handler.")}if(e===null){return end(t)}if(typeof e==="object"){e=e.toString()}var r=0;var n="";while(true){n=charAt(e,r++);t.c=n;if(!n){break}if(t.trackPosition){t.position++;if(n==="\n"){t.line++;t.column=0}else{t.column++}}switch(t.state){case m.BEGIN:t.state=m.BEGIN_WHITESPACE;if(n==="\ufeff"){continue}beginWhiteSpace(t,n);continue;case m.BEGIN_WHITESPACE:beginWhiteSpace(t,n);continue;case m.TEXT:if(t.sawRoot&&!t.closedRoot){var i=r-1;while(n&&n!=="<"&&n!=="&"){n=charAt(e,r++);if(n&&t.trackPosition){t.position++;if(n==="\n"){t.line++;t.column=0}else{t.column++}}}t.textNode+=e.substring(i,r-1)}if(n==="<"&&!(t.sawRoot&&t.closedRoot&&!t.strict)){t.state=m.OPEN_WAKA;t.startTagPosition=t.position}else{if(!isWhitespace(n)&&(!t.sawRoot||t.closedRoot)){strictFail(t,"Text data outside of root node.")}if(n==="&"){t.state=m.TEXT_ENTITY}else{t.textNode+=n}}continue;case m.SCRIPT:if(n==="<"){t.state=m.SCRIPT_ENDING}else{t.script+=n}continue;case m.SCRIPT_ENDING:if(n==="/"){t.state=m.CLOSE_TAG}else{t.script+="<"+n;t.state=m.SCRIPT}continue;case m.OPEN_WAKA:if(n==="!"){t.state=m.SGML_DECL;t.sgmlDecl=""}else if(isWhitespace(n)){}else if(isMatch(l,n)){t.state=m.OPEN_TAG;t.tagName=n}else if(n==="/"){t.state=m.CLOSE_TAG;t.tagName=""}else if(n==="?"){t.state=m.PROC_INST;t.procInstName=t.procInstBody=""}else{strictFail(t,"Unencoded <");if(t.startTagPosition+1<t.position){var o=t.position-t.startTagPosition;n=new Array(o).join(" ")+n}t.textNode+="<"+n;t.state=m.TEXT}continue;case m.SGML_DECL:if((t.sgmlDecl+n).toUpperCase()===s){emitNode(t,"onopencdata");t.state=m.CDATA;t.sgmlDecl="";t.cdata=""}else if(t.sgmlDecl+n==="--"){t.state=m.COMMENT;t.comment="";t.sgmlDecl=""}else if((t.sgmlDecl+n).toUpperCase()===a){t.state=m.DOCTYPE;if(t.doctype||t.sawRoot){strictFail(t,"Inappropriately located doctype declaration")}t.doctype="";t.sgmlDecl=""}else if(n===">"){emitNode(t,"onsgmldeclaration",t.sgmlDecl);t.sgmlDecl="";t.state=m.TEXT}else if(isQuote(n)){t.state=m.SGML_DECL_QUOTED;t.sgmlDecl+=n}else{t.sgmlDecl+=n}continue;case m.SGML_DECL_QUOTED:if(n===t.q){t.state=m.SGML_DECL;t.q=""}t.sgmlDecl+=n;continue;case m.DOCTYPE:if(n===">"){t.state=m.TEXT;emitNode(t,"ondoctype",t.doctype);t.doctype=true}else{t.doctype+=n;if(n==="["){t.state=m.DOCTYPE_DTD}else if(isQuote(n)){t.state=m.DOCTYPE_QUOTED;t.q=n}}continue;case m.DOCTYPE_QUOTED:t.doctype+=n;if(n===t.q){t.q="";t.state=m.DOCTYPE}continue;case m.DOCTYPE_DTD:t.doctype+=n;if(n==="]"){t.state=m.DOCTYPE}else if(isQuote(n)){t.state=m.DOCTYPE_DTD_QUOTED;t.q=n}continue;case m.DOCTYPE_DTD_QUOTED:t.doctype+=n;if(n===t.q){t.state=m.DOCTYPE_DTD;t.q=""}continue;case m.COMMENT:if(n==="-"){t.state=m.COMMENT_ENDING}else{t.comment+=n}continue;case m.COMMENT_ENDING:if(n==="-"){t.state=m.COMMENT_ENDED;t.comment=textopts(t.opt,t.comment);if(t.comment){emitNode(t,"oncomment",t.comment)}t.comment=""}else{t.comment+="-"+n;t.state=m.COMMENT}continue;case m.COMMENT_ENDED:if(n!==">"){strictFail(t,"Malformed comment");t.comment+="--"+n;t.state=m.COMMENT}else{t.state=m.TEXT}continue;case m.CDATA:if(n==="]"){t.state=m.CDATA_ENDING}else{t.cdata+=n}continue;case m.CDATA_ENDING:if(n==="]"){t.state=m.CDATA_ENDING_2}else{t.cdata+="]"+n;t.state=m.CDATA}continue;case m.CDATA_ENDING_2:if(n===">"){if(t.cdata){emitNode(t,"oncdata",t.cdata)}emitNode(t,"onclosecdata");t.cdata="";t.state=m.TEXT}else if(n==="]"){t.cdata+="]"}else{t.cdata+="]]"+n;t.state=m.CDATA}continue;case m.PROC_INST:if(n==="?"){t.state=m.PROC_INST_ENDING}else if(isWhitespace(n)){t.state=m.PROC_INST_BODY}else{t.procInstName+=n}continue;case m.PROC_INST_BODY:if(!t.procInstBody&&isWhitespace(n)){continue}else if(n==="?"){t.state=m.PROC_INST_ENDING}else{t.procInstBody+=n}continue;case m.PROC_INST_ENDING:if(n===">"){emitNode(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody});t.procInstName=t.procInstBody="";t.state=m.TEXT}else{t.procInstBody+="?"+n;t.state=m.PROC_INST_BODY}continue;case m.OPEN_TAG:if(isMatch(p,n)){t.tagName+=n}else{newTag(t);if(n===">"){openTag(t)}else if(n==="/"){t.state=m.OPEN_TAG_SLASH}else{if(!isWhitespace(n)){strictFail(t,"Invalid character in tag name")}t.state=m.ATTRIB}}continue;case m.OPEN_TAG_SLASH:if(n===">"){openTag(t,true);closeTag(t)}else{strictFail(t,"Forward-slash in opening tag not followed by >");t.state=m.ATTRIB}continue;case m.ATTRIB:if(isWhitespace(n)){continue}else if(n===">"){openTag(t)}else if(n==="/"){t.state=m.OPEN_TAG_SLASH}else if(isMatch(l,n)){t.attribName=n;t.attribValue="";t.state=m.ATTRIB_NAME}else{strictFail(t,"Invalid attribute name")}continue;case m.ATTRIB_NAME:if(n==="="){t.state=m.ATTRIB_VALUE}else if(n===">"){strictFail(t,"Attribute without value");t.attribValue=t.attribName;attrib(t);openTag(t)}else if(isWhitespace(n)){t.state=m.ATTRIB_NAME_SAW_WHITE}else if(isMatch(p,n)){t.attribName+=n}else{strictFail(t,"Invalid attribute name")}continue;case m.ATTRIB_NAME_SAW_WHITE:if(n==="="){t.state=m.ATTRIB_VALUE}else if(isWhitespace(n)){continue}else{strictFail(t,"Attribute without value");t.tag.attributes[t.attribName]="";t.attribValue="";emitNode(t,"onattribute",{name:t.attribName,value:""});t.attribName="";if(n===">"){openTag(t)}else if(isMatch(l,n)){t.attribName=n;t.state=m.ATTRIB_NAME}else{strictFail(t,"Invalid attribute name");t.state=m.ATTRIB}}continue;case m.ATTRIB_VALUE:if(isWhitespace(n)){continue}else if(isQuote(n)){t.q=n;t.state=m.ATTRIB_VALUE_QUOTED}else{strictFail(t,"Unquoted attribute value");t.state=m.ATTRIB_VALUE_UNQUOTED;t.attribValue=n}continue;case m.ATTRIB_VALUE_QUOTED:if(n!==t.q){if(n==="&"){t.state=m.ATTRIB_VALUE_ENTITY_Q}else{t.attribValue+=n}continue}attrib(t);t.q="";t.state=m.ATTRIB_VALUE_CLOSED;continue;case m.ATTRIB_VALUE_CLOSED:if(isWhitespace(n)){t.state=m.ATTRIB}else if(n===">"){openTag(t)}else if(n==="/"){t.state=m.OPEN_TAG_SLASH}else if(isMatch(l,n)){strictFail(t,"No whitespace between attributes");t.attribName=n;t.attribValue="";t.state=m.ATTRIB_NAME}else{strictFail(t,"Invalid attribute name")}continue;case m.ATTRIB_VALUE_UNQUOTED:if(!isAttribEnd(n)){if(n==="&"){t.state=m.ATTRIB_VALUE_ENTITY_U}else{t.attribValue+=n}continue}attrib(t);if(n===">"){openTag(t)}else{t.state=m.ATTRIB}continue;case m.CLOSE_TAG:if(!t.tagName){if(isWhitespace(n)){continue}else if(notMatch(l,n)){if(t.script){t.script+="</"+n;t.state=m.SCRIPT}else{strictFail(t,"Invalid tagname in closing tag.")}}else{t.tagName=n}}else if(n===">"){closeTag(t)}else if(isMatch(p,n)){t.tagName+=n}else if(t.script){t.script+="</"+t.tagName;t.tagName="";t.state=m.SCRIPT}else{if(!isWhitespace(n)){strictFail(t,"Invalid tagname in closing tag")}t.state=m.CLOSE_TAG_SAW_WHITE}continue;case m.CLOSE_TAG_SAW_WHITE:if(isWhitespace(n)){continue}if(n===">"){closeTag(t)}else{strictFail(t,"Invalid characters in closing tag")}continue;case m.TEXT_ENTITY:case m.ATTRIB_VALUE_ENTITY_Q:case m.ATTRIB_VALUE_ENTITY_U:var u;var c;switch(t.state){case m.TEXT_ENTITY:u=m.TEXT;c="textNode";break;case m.ATTRIB_VALUE_ENTITY_Q:u=m.ATTRIB_VALUE_QUOTED;c="attribValue";break;case m.ATTRIB_VALUE_ENTITY_U:u=m.ATTRIB_VALUE_UNQUOTED;c="attribValue";break}if(n===";"){t[c]+=parseEntity(t);t.entity="";t.state=u}else if(isMatch(t.entity.length?d:f,n)){t.entity+=n}else{strictFail(t,"Invalid character in entity name");t[c]+="&"+t.entity+n;t.entity="";t.state=u}continue;default:throw new Error(t,"Unknown state: "+t.state)}}if(t.position>=t.bufferCheckPosition){checkBufferLength(t)}return t}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */if(!String.fromCodePoint){(function(){var e=String.fromCharCode;var t=Math.floor;var fromCodePoint=function(){var r=16384;var n=[];var i;var s;var a=-1;var o=arguments.length;if(!o){return""}var u="";while(++a<o){var c=Number(arguments[a]);if(!isFinite(c)||c<0||c>1114111||t(c)!==c){throw RangeError("Invalid code point: "+c)}if(c<=65535){n.push(c)}else{c-=65536;i=(c>>10)+55296;s=c%1024+56320;n.push(i,s)}if(a+1===o||n.length>r){u+=e.apply(null,n);n.length=0}}return u};if(Object.defineProperty){Object.defineProperty(String,"fromCodePoint",{value:fromCodePoint,configurable:true,writable:true})}else{String.fromCodePoint=fromCodePoint}})()}})(false?0:t)},774:(e,t,r)=>{e.exports=r(778)},778:(e,t,r)=>{"use strict";var n=r(631);var i=r(16);var s=r(605);var a=r(211);var o=r(614);var u=r(357);var c=r(669);t.httpOverHttp=httpOverHttp;t.httpsOverHttp=httpsOverHttp;t.httpOverHttps=httpOverHttps;t.httpsOverHttps=httpsOverHttps;function httpOverHttp(e){var t=new TunnelingAgent(e);t.request=s.request;return t}function httpsOverHttp(e){var t=new TunnelingAgent(e);t.request=s.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function httpOverHttps(e){var t=new TunnelingAgent(e);t.request=a.request;return t}function httpsOverHttps(e){var t=new TunnelingAgent(e);t.request=a.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function TunnelingAgent(e){var t=this;t.options=e||{};t.proxyOptions=t.options.proxy||{};t.maxSockets=t.options.maxSockets||s.Agent.defaultMaxSockets;t.requests=[];t.sockets=[];t.on("free",(function onFree(e,r,n,i){var s=toOptions(r,n,i);for(var a=0,o=t.requests.length;a<o;++a){var u=t.requests[a];if(u.host===s.host&&u.port===s.port){t.requests.splice(a,1);u.request.onSocket(e);return}}e.destroy();t.removeSocket(e)}))}c.inherits(TunnelingAgent,o.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(e,t,r,n){var i=this;var s=mergeOptions({request:e},i.options,toOptions(t,r,n));if(i.sockets.length>=this.maxSockets){i.requests.push(s);return}i.createSocket(s,(function(t){t.on("free",onFree);t.on("close",onCloseOrRemove);t.on("agentRemove",onCloseOrRemove);e.onSocket(t);function onFree(){i.emit("free",t,s)}function onCloseOrRemove(e){i.removeSocket(t);t.removeListener("free",onFree);t.removeListener("close",onCloseOrRemove);t.removeListener("agentRemove",onCloseOrRemove)}}))};TunnelingAgent.prototype.createSocket=function createSocket(e,t){var r=this;var n={};r.sockets.push(n);var i=mergeOptions({},r.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:false,headers:{host:e.host+":"+e.port}});if(e.localAddress){i.localAddress=e.localAddress}if(i.proxyAuth){i.headers=i.headers||{};i.headers["Proxy-Authorization"]="Basic "+new Buffer(i.proxyAuth).toString("base64")}l("making CONNECT request");var s=r.request(i);s.useChunkedEncodingByDefault=false;s.once("response",onResponse);s.once("upgrade",onUpgrade);s.once("connect",onConnect);s.once("error",onError);s.end();function onResponse(e){e.upgrade=true}function onUpgrade(e,t,r){process.nextTick((function(){onConnect(e,t,r)}))}function onConnect(i,a,o){s.removeAllListeners();a.removeAllListeners();if(i.statusCode!==200){l("tunneling socket could not be established, statusCode=%d",i.statusCode);a.destroy();var u=new Error("tunneling socket could not be established, "+"statusCode="+i.statusCode);u.code="ECONNRESET";e.request.emit("error",u);r.removeSocket(n);return}if(o.length>0){l("got illegal response body from proxy");a.destroy();var u=new Error("got illegal response body from proxy");u.code="ECONNRESET";e.request.emit("error",u);r.removeSocket(n);return}l("tunneling connection has established");r.sockets[r.sockets.indexOf(n)]=a;return t(a)}function onError(t){s.removeAllListeners();l("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var i=new Error("tunneling socket could not be established, "+"cause="+t.message);i.code="ECONNRESET";e.request.emit("error",i);r.removeSocket(n)}};TunnelingAgent.prototype.removeSocket=function removeSocket(e){var t=this.sockets.indexOf(e);if(t===-1){return}this.sockets.splice(t,1);var r=this.requests.shift();if(r){this.createSocket(r,(function(e){r.request.onSocket(e)}))}};function createSecureSocket(e,t){var r=this;TunnelingAgent.prototype.createSocket.call(r,e,(function(n){var s=e.request.getHeader("host");var a=mergeOptions({},r.options,{socket:n,servername:s?s.replace(/:.*$/,""):e.host});var o=i.connect(0,a);r.sockets[r.sockets.indexOf(n)]=o;t(o)}))}function toOptions(e,t,r){if(typeof e==="string"){return{host:e,port:t,localAddress:r}}return e}function mergeOptions(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n==="object"){var i=Object.keys(n);for(var s=0,a=i.length;s<a;++s){var o=i[s];if(n[o]!==undefined){e[o]=n[o]}}}}return e}var l;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){l=function(){var e=Array.prototype.slice.call(arguments);if(typeof e[0]==="string"){e[0]="TUNNEL: "+e[0]}else{e.unshift("TUNNEL:")}console.error.apply(console,e)}}else{l=function(){}}t.debug=l},158:e=>{e.exports={isArray:function(e){if(Array.isArray){return Array.isArray(e)}return Object.prototype.toString.call(e)==="[object Array]"}}},420:(e,t,r)=>{var n=r(104);var i=r(169);var s=r(554);var a=r(126);e.exports={xml2js:n,xml2json:i,js2xml:s,json2xml:a}},554:(e,t,r)=>{var n=r(963);var i=r(158).isArray;var s,a;function validateOptions(e){var t=n.copyOptions(e);n.ensureFlagExists("ignoreDeclaration",t);n.ensureFlagExists("ignoreInstruction",t);n.ensureFlagExists("ignoreAttributes",t);n.ensureFlagExists("ignoreText",t);n.ensureFlagExists("ignoreComment",t);n.ensureFlagExists("ignoreCdata",t);n.ensureFlagExists("ignoreDoctype",t);n.ensureFlagExists("compact",t);n.ensureFlagExists("indentText",t);n.ensureFlagExists("indentCdata",t);n.ensureFlagExists("indentAttributes",t);n.ensureFlagExists("indentInstruction",t);n.ensureFlagExists("fullTagEmptyElement",t);n.ensureFlagExists("noQuotesForNativeAttributes",t);n.ensureSpacesExists(t);if(typeof t.spaces==="number"){t.spaces=Array(t.spaces+1).join(" ")}n.ensureKeyExists("declaration",t);n.ensureKeyExists("instruction",t);n.ensureKeyExists("attributes",t);n.ensureKeyExists("text",t);n.ensureKeyExists("comment",t);n.ensureKeyExists("cdata",t);n.ensureKeyExists("doctype",t);n.ensureKeyExists("type",t);n.ensureKeyExists("name",t);n.ensureKeyExists("elements",t);n.checkFnExists("doctype",t);n.checkFnExists("instruction",t);n.checkFnExists("cdata",t);n.checkFnExists("comment",t);n.checkFnExists("text",t);n.checkFnExists("instructionName",t);n.checkFnExists("elementName",t);n.checkFnExists("attributeName",t);n.checkFnExists("attributeValue",t);n.checkFnExists("attributes",t);n.checkFnExists("fullTagEmptyElement",t);return t}function writeIndentation(e,t,r){return(!r&&e.spaces?"\n":"")+Array(t+1).join(e.spaces)}function writeAttributes(e,t,r){if(t.ignoreAttributes){return""}if("attributesFn"in t){e=t.attributesFn(e,a,s)}var n,i,o,u,c=[];for(n in e){if(e.hasOwnProperty(n)&&e[n]!==null&&e[n]!==undefined){u=t.noQuotesForNativeAttributes&&typeof e[n]!=="string"?"":'"';i=""+e[n];i=i.replace(/"/g,"&quot;");o="attributeNameFn"in t?t.attributeNameFn(n,i,a,s):n;c.push(t.spaces&&t.indentAttributes?writeIndentation(t,r+1,false):" ");c.push(o+"="+u+("attributeValueFn"in t?t.attributeValueFn(i,n,a,s):i)+u)}}if(e&&Object.keys(e).length&&t.spaces&&t.indentAttributes){c.push(writeIndentation(t,r,false))}return c.join("")}function writeDeclaration(e,t,r){s=e;a="xml";return t.ignoreDeclaration?"":"<?"+"xml"+writeAttributes(e[t.attributesKey],t,r)+"?>"}function writeInstruction(e,t,r){if(t.ignoreInstruction){return""}var n;for(n in e){if(e.hasOwnProperty(n)){break}}var i="instructionNameFn"in t?t.instructionNameFn(n,e[n],a,s):n;if(typeof e[n]==="object"){s=e;a=i;return"<?"+i+writeAttributes(e[n][t.attributesKey],t,r)+"?>"}else{var o=e[n]?e[n]:"";if("instructionFn"in t)o=t.instructionFn(o,n,a,s);return"<?"+i+(o?" "+o:"")+"?>"}}function writeComment(e,t){return t.ignoreComment?"":"\x3c!--"+("commentFn"in t?t.commentFn(e,a,s):e)+"--\x3e"}function writeCdata(e,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(e,a,s):e.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function writeDoctype(e,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(e,a,s):e)+">"}function writeText(e,t){if(t.ignoreText)return"";e=""+e;e=e.replace(/&amp;/g,"&");e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return"textFn"in t?t.textFn(e,a,s):e}function hasContent(e,t){var r;if(e.elements&&e.elements.length){for(r=0;r<e.elements.length;++r){switch(e.elements[r][t.typeKey]){case"text":if(t.indentText){return true}break;case"cdata":if(t.indentCdata){return true}break;case"instruction":if(t.indentInstruction){return true}break;case"doctype":case"comment":case"element":return true;default:return true}}}return false}function writeElement(e,t,r){s=e;a=e.name;var n=[],i="elementNameFn"in t?t.elementNameFn(e.name,e):e.name;n.push("<"+i);if(e[t.attributesKey]){n.push(writeAttributes(e[t.attributesKey],t,r))}var o=e[t.elementsKey]&&e[t.elementsKey].length||e[t.attributesKey]&&e[t.attributesKey]["xml:space"]==="preserve";if(!o){if("fullTagEmptyElementFn"in t){o=t.fullTagEmptyElementFn(e.name,e)}else{o=t.fullTagEmptyElement}}if(o){n.push(">");if(e[t.elementsKey]&&e[t.elementsKey].length){n.push(writeElements(e[t.elementsKey],t,r+1));s=e;a=e.name}n.push(t.spaces&&hasContent(e,t)?"\n"+Array(r+1).join(t.spaces):"");n.push("</"+i+">")}else{n.push("/>")}return n.join("")}function writeElements(e,t,r,n){return e.reduce((function(e,i){var s=writeIndentation(t,r,n&&!e);switch(i.type){case"element":return e+s+writeElement(i,t,r);case"comment":return e+s+writeComment(i[t.commentKey],t);case"doctype":return e+s+writeDoctype(i[t.doctypeKey],t);case"cdata":return e+(t.indentCdata?s:"")+writeCdata(i[t.cdataKey],t);case"text":return e+(t.indentText?s:"")+writeText(i[t.textKey],t);case"instruction":var a={};a[i[t.nameKey]]=i[t.attributesKey]?i:i[t.instructionKey];return e+(t.indentInstruction?s:"")+writeInstruction(a,t,r)}}),"")}function hasContentCompact(e,t,r){var n;for(n in e){if(e.hasOwnProperty(n)){switch(n){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||r){return true}break;case t.cdataKey:if(t.indentCdata||r){return true}break;case t.instructionKey:if(t.indentInstruction||r){return true}break;case t.doctypeKey:case t.commentKey:return true;default:return true}}}return false}function writeElementCompact(e,t,r,n,i){s=e;a=t;var o="elementNameFn"in r?r.elementNameFn(t,e):t;if(typeof e==="undefined"||e===null||e===""){return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(t,e)||r.fullTagEmptyElement?"<"+o+"></"+o+">":"<"+o+"/>"}var u=[];if(t){u.push("<"+o);if(typeof e!=="object"){u.push(">"+writeText(e,r)+"</"+o+">");return u.join("")}if(e[r.attributesKey]){u.push(writeAttributes(e[r.attributesKey],r,n))}var c=hasContentCompact(e,r,true)||e[r.attributesKey]&&e[r.attributesKey]["xml:space"]==="preserve";if(!c){if("fullTagEmptyElementFn"in r){c=r.fullTagEmptyElementFn(t,e)}else{c=r.fullTagEmptyElement}}if(c){u.push(">")}else{u.push("/>");return u.join("")}}u.push(writeElementsCompact(e,r,n+1,false));s=e;a=t;if(t){u.push((i?writeIndentation(r,n,false):"")+"</"+o+">")}return u.join("")}function writeElementsCompact(e,t,r,n){var s,a,o,u=[];for(a in e){if(e.hasOwnProperty(a)){o=i(e[a])?e[a]:[e[a]];for(s=0;s<o.length;++s){switch(a){case t.declarationKey:u.push(writeDeclaration(o[s],t,r));break;case t.instructionKey:u.push((t.indentInstruction?writeIndentation(t,r,n):"")+writeInstruction(o[s],t,r));break;case t.attributesKey:case t.parentKey:break;case t.textKey:u.push((t.indentText?writeIndentation(t,r,n):"")+writeText(o[s],t));break;case t.cdataKey:u.push((t.indentCdata?writeIndentation(t,r,n):"")+writeCdata(o[s],t));break;case t.doctypeKey:u.push(writeIndentation(t,r,n)+writeDoctype(o[s],t));break;case t.commentKey:u.push(writeIndentation(t,r,n)+writeComment(o[s],t));break;default:u.push(writeIndentation(t,r,n)+writeElementCompact(o[s],a,t,r,hasContentCompact(o[s],t)))}n=n&&!u.length}}}return u.join("")}e.exports=function(e,t){t=validateOptions(t);var r=[];s=e;a="_root_";if(t.compact){r.push(writeElementsCompact(e,t,0,true))}else{if(e[t.declarationKey]){r.push(writeDeclaration(e[t.declarationKey],t,0))}if(e[t.elementsKey]&&e[t.elementsKey].length){r.push(writeElements(e[t.elementsKey],t,0,!r.length))}}return r.join("")}},126:(e,t,r)=>{var n=r(554);e.exports=function(e,t){if(e instanceof Buffer){e=e.toString()}var r=null;if(typeof e==="string"){try{r=JSON.parse(e)}catch(e){throw new Error("The JSON structure is invalid")}}else{r=e}return n(r,t)}},963:(e,t,r)=>{var n=r(158).isArray;e.exports={copyOptions:function(e){var t,r={};for(t in e){if(e.hasOwnProperty(t)){r[t]=e[t]}}return r},ensureFlagExists:function(e,t){if(!(e in t)||typeof t[e]!=="boolean"){t[e]=false}},ensureSpacesExists:function(e){if(!("spaces"in e)||typeof e.spaces!=="number"&&typeof e.spaces!=="string"){e.spaces=0}},ensureAlwaysArrayExists:function(e){if(!("alwaysArray"in e)||typeof e.alwaysArray!=="boolean"&&!n(e.alwaysArray)){e.alwaysArray=false}},ensureKeyExists:function(e,t){if(!(e+"Key"in t)||typeof t[e+"Key"]!=="string"){t[e+"Key"]=t.compact?"_"+e:e}},checkFnExists:function(e,t){return e+"Fn"in t}}},104:(e,t,r)=>{var n=r(613);var i={on:function(){},parse:function(){}};var s=r(963);var a=r(158).isArray;var o;var u=true;var c;function validateOptions(e){o=s.copyOptions(e);s.ensureFlagExists("ignoreDeclaration",o);s.ensureFlagExists("ignoreInstruction",o);s.ensureFlagExists("ignoreAttributes",o);s.ensureFlagExists("ignoreText",o);s.ensureFlagExists("ignoreComment",o);s.ensureFlagExists("ignoreCdata",o);s.ensureFlagExists("ignoreDoctype",o);s.ensureFlagExists("compact",o);s.ensureFlagExists("alwaysChildren",o);s.ensureFlagExists("addParent",o);s.ensureFlagExists("trim",o);s.ensureFlagExists("nativeType",o);s.ensureFlagExists("nativeTypeAttributes",o);s.ensureFlagExists("sanitize",o);s.ensureFlagExists("instructionHasAttributes",o);s.ensureFlagExists("captureSpacesBetweenElements",o);s.ensureAlwaysArrayExists(o);s.ensureKeyExists("declaration",o);s.ensureKeyExists("instruction",o);s.ensureKeyExists("attributes",o);s.ensureKeyExists("text",o);s.ensureKeyExists("comment",o);s.ensureKeyExists("cdata",o);s.ensureKeyExists("doctype",o);s.ensureKeyExists("type",o);s.ensureKeyExists("name",o);s.ensureKeyExists("elements",o);s.ensureKeyExists("parent",o);s.checkFnExists("doctype",o);s.checkFnExists("instruction",o);s.checkFnExists("cdata",o);s.checkFnExists("comment",o);s.checkFnExists("text",o);s.checkFnExists("instructionName",o);s.checkFnExists("elementName",o);s.checkFnExists("attributeName",o);s.checkFnExists("attributeValue",o);s.checkFnExists("attributes",o);return o}function nativeType(e){var t=Number(e);if(!isNaN(t)){return t}var r=e.toLowerCase();if(r==="true"){return true}else if(r==="false"){return false}return e}function addField(e,t){var r;if(o.compact){if(!c[o[e+"Key"]]&&(a(o.alwaysArray)?o.alwaysArray.indexOf(o[e+"Key"])!==-1:o.alwaysArray)){c[o[e+"Key"]]=[]}if(c[o[e+"Key"]]&&!a(c[o[e+"Key"]])){c[o[e+"Key"]]=[c[o[e+"Key"]]]}if(e+"Fn"in o&&typeof t==="string"){t=o[e+"Fn"](t,c)}if(e==="instruction"&&("instructionFn"in o||"instructionNameFn"in o)){for(r in t){if(t.hasOwnProperty(r)){if("instructionFn"in o){t[r]=o.instructionFn(t[r],r,c)}else{var n=t[r];delete t[r];t[o.instructionNameFn(r,n,c)]=n}}}}if(a(c[o[e+"Key"]])){c[o[e+"Key"]].push(t)}else{c[o[e+"Key"]]=t}}else{if(!c[o.elementsKey]){c[o.elementsKey]=[]}var i={};i[o.typeKey]=e;if(e==="instruction"){for(r in t){if(t.hasOwnProperty(r)){break}}i[o.nameKey]="instructionNameFn"in o?o.instructionNameFn(r,t,c):r;if(o.instructionHasAttributes){i[o.attributesKey]=t[r][o.attributesKey];if("instructionFn"in o){i[o.attributesKey]=o.instructionFn(i[o.attributesKey],r,c)}}else{if("instructionFn"in o){t[r]=o.instructionFn(t[r],r,c)}i[o.instructionKey]=t[r]}}else{if(e+"Fn"in o){t=o[e+"Fn"](t,c)}i[o[e+"Key"]]=t}if(o.addParent){i[o.parentKey]=c}c[o.elementsKey].push(i)}}function manipulateAttributes(e){if("attributesFn"in o&&e){e=o.attributesFn(e,c)}if((o.trim||"attributeValueFn"in o||"attributeNameFn"in o||o.nativeTypeAttributes)&&e){var t;for(t in e){if(e.hasOwnProperty(t)){if(o.trim)e[t]=e[t].trim();if(o.nativeTypeAttributes){e[t]=nativeType(e[t])}if("attributeValueFn"in o)e[t]=o.attributeValueFn(e[t],t,c);if("attributeNameFn"in o){var r=e[t];delete e[t];e[o.attributeNameFn(t,e[t],c)]=r}}}}return e}function onInstruction(e){var t={};if(e.body&&(e.name.toLowerCase()==="xml"||o.instructionHasAttributes)){var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;var n;while((n=r.exec(e.body))!==null){t[n[1]]=n[2]||n[3]||n[4]}t=manipulateAttributes(t)}if(e.name.toLowerCase()==="xml"){if(o.ignoreDeclaration){return}c[o.declarationKey]={};if(Object.keys(t).length){c[o.declarationKey][o.attributesKey]=t}if(o.addParent){c[o.declarationKey][o.parentKey]=c}}else{if(o.ignoreInstruction){return}if(o.trim){e.body=e.body.trim()}var i={};if(o.instructionHasAttributes&&Object.keys(t).length){i[e.name]={};i[e.name][o.attributesKey]=t}else{i[e.name]=e.body}addField("instruction",i)}}function onStartElement(e,t){var r;if(typeof e==="object"){t=e.attributes;e=e.name}t=manipulateAttributes(t);if("elementNameFn"in o){e=o.elementNameFn(e,c)}if(o.compact){r={};if(!o.ignoreAttributes&&t&&Object.keys(t).length){r[o.attributesKey]={};var n;for(n in t){if(t.hasOwnProperty(n)){r[o.attributesKey][n]=t[n]}}}if(!(e in c)&&(a(o.alwaysArray)?o.alwaysArray.indexOf(e)!==-1:o.alwaysArray)){c[e]=[]}if(c[e]&&!a(c[e])){c[e]=[c[e]]}if(a(c[e])){c[e].push(r)}else{c[e]=r}}else{if(!c[o.elementsKey]){c[o.elementsKey]=[]}r={};r[o.typeKey]="element";r[o.nameKey]=e;if(!o.ignoreAttributes&&t&&Object.keys(t).length){r[o.attributesKey]=t}if(o.alwaysChildren){r[o.elementsKey]=[]}c[o.elementsKey].push(r)}r[o.parentKey]=c;c=r}function onText(e){if(o.ignoreText){return}if(!e.trim()&&!o.captureSpacesBetweenElements){return}if(o.trim){e=e.trim()}if(o.nativeType){e=nativeType(e)}if(o.sanitize){e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}addField("text",e)}function onComment(e){if(o.ignoreComment){return}if(o.trim){e=e.trim()}addField("comment",e)}function onEndElement(e){var t=c[o.parentKey];if(!o.addParent){delete c[o.parentKey]}c=t}function onCdata(e){if(o.ignoreCdata){return}if(o.trim){e=e.trim()}addField("cdata",e)}function onDoctype(e){if(o.ignoreDoctype){return}e=e.replace(/^ /,"");if(o.trim){e=e.trim()}addField("doctype",e)}function onError(e){e.note=e}e.exports=function(e,t){var r=u?n.parser(true,{}):r=new i.Parser("UTF-8");var s={};c=s;o=validateOptions(t);if(u){r.opt={strictEntities:true};r.onopentag=onStartElement;r.ontext=onText;r.oncomment=onComment;r.onclosetag=onEndElement;r.onerror=onError;r.oncdata=onCdata;r.ondoctype=onDoctype;r.onprocessinginstruction=onInstruction}else{r.on("startElement",onStartElement);r.on("text",onText);r.on("comment",onComment);r.on("endElement",onEndElement);r.on("error",onError)}if(u){r.write(e).close()}else{if(!r.parse(e)){throw new Error("XML parsing error: "+r.getError())}}if(s[o.elementsKey]){var a=s[o.elementsKey];delete s[o.elementsKey];s[o.elementsKey]=a;delete s.text}return s}},169:(e,t,r)=>{var n=r(963);var i=r(104);function validateOptions(e){var t=n.copyOptions(e);n.ensureSpacesExists(t);return t}e.exports=function(e,t){var r,n,s,a;r=validateOptions(t);n=i(e,r);a="compact"in r&&r.compact?"_parent":"parent";if("addParent"in r&&r.addParent){s=JSON.stringify(n,(function(e,t){return e===a?"_":t}),r.spaces)}else{s=JSON.stringify(n,null,r.spaces)}return s.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},357:e=>{"use strict";e.exports=require("assert")},614:e=>{"use strict";e.exports=require("events")},747:e=>{"use strict";e.exports=require("fs")},605:e=>{"use strict";e.exports=require("http")},211:e=>{"use strict";e.exports=require("https")},631:e=>{"use strict";e.exports=require("net")},87:e=>{"use strict";e.exports=require("os")},622:e=>{"use strict";e.exports=require("path")},413:e=>{"use strict";e.exports=require("stream")},304:e=>{"use strict";e.exports=require("string_decoder")},16:e=>{"use strict";e.exports=require("tls")},669:e=>{"use strict";e.exports=require("util")}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var i=t[r]={exports:{}};var s=true;try{e[r].call(i.exports,i,i.exports,__nccwpck_require__);s=false}finally{if(s)delete t[r]}return i.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var r={};(()=>{const e=__nccwpck_require__(881);const t=__nccwpck_require__(420);const r=__nccwpck_require__(747);const n=__nccwpck_require__(622);const storeData=(e,t)=>{try{const i=n.dirname(t);if(!r.existsSync(i)){r.mkdirSync(i,{recursive:true})}r.writeFileSync(t,JSON.stringify(e))}catch(e){console.error(e)}};const preparePath=e=>n.join(process.env.GITHUB_WORKSPACE,e);try{const n=e.getInput("path-to-clover");const i=e.getInput("path-to-json");const s=e.getInput("style");const a=e.getInput("label-text");const o=e.getInput("bad-threshold");const u=e.getInput("average-threshold");const c=e.getInput("above-average-threshold");const l=e.getInput("bad-color");const p=e.getInput("average-color");const f=e.getInput("above-average-color");const d=e.getInput("good-color");const m=r.readFileSync(preparePath(n));const h=t.xml2js(m,{compact:true});const g=h.coverage.project.metrics;const E=(g._attributes.coveredstatements/g._attributes.statements*100).toFixed(2);let y=d;if(E<c){y=f}else if(E<u){y=p}else if(E<o){y=l}const T={schemaVersion:1,label:a,message:E+"%",color:y,isError:true,style:s};storeData(T,preparePath(i));console.log(T)}catch(t){e.setFailed(t.message)}})();module.exports=r})();